<%-include('navbar.ejs')%>


  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <!-- DataTables CSS -->
  <link rel="stylesheet" href="https://cdn.datatables.net/1.13.6/css/jquery.dataTables.min.css">
  <link rel="stylesheet" href="https://cdn.datatables.net/buttons/2.4.1/css/buttons.dataTables.min.css">

  <style>
    :root {
      --blue-header: #1a3da8;
      --orange-accent: #ff8a00;
      --purple-btn: #7d57c9;
    }
    body {
      background: #f8f9fa;
      font-family: "Segoe UI", sans-serif;
    }
    .report-card {
      max-width: 1200px;
      margin: 20px auto;
      border: 1px solid #ddd;
      background: #fff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    }
    .report-header {
      background: linear-gradient(to right, #290566, #4b3f92, rgb(183, 121, 219));

      color: #fff;
      font-weight: 800;
      padding: 10px 16px;
      font-size: 16px;
      border-left: 6px solid var(--orange-accent);
    }
    table.dataTable thead th {
      font-size: 13px;
      text-align: center;
    }
    table.dataTable tbody td {
      font-size: 13px;
      text-align: center;
    }
    .dataTables_wrapper .dataTables_filter {
      float: left !important;
    }
    .dataTables_wrapper .dt-buttons {
      float: right !important;
    }
    .dataTables_wrapper .dataTables_filter input {
      border: 1px solid #333;
      padding: 4px 8px;
    }
    .dt-buttons .btn {
      margin-right: 6px;
      background: #7d57c9;
      color: #fff;
      border: none;
      font-size: 13px;
      padding: 4px 10px;
      border-radius: 3px;
    }
    .dt-buttons .btn:hover {
      background: #6a45b5;
    }
    /* Column Visibility background black screen remove */
div.dt-button-background {
  display: none !important;
}

/* Column visibility dropdown position & style fix */
div.dt-button-collection {
  position: absolute !important;
  top: 50px !important; /* table ke thoda niche */
  right: 20px !important;
  left: auto !important;
  width: 220px !important;
  max-height: 300px !important;
  overflow-y: auto !important;
  border: 1px solid #ccc;
  background: #fff;
  box-shadow: 0 4px 10px rgba(0,0,0,0.15);
  z-index: 9999 !important;
}
div.dt-button-collection button.dt-button {
  display: block;
  width: 100%;
  text-align: left;
  padding: 6px 12px;
  font-size: 13px;
  border: none;
  background: #fff;
}
div.dt-button-collection button.dt-button:hover {
  background: #f5f5f5;
}
#productReport thead th {
    border-top: 1px solid #333; /* Dark top border */
}


  </style>
</head>
<body>

<div class="report-card">
  <div class="report-header">
    PURCHASE REPORT BY PRODUCT '<%-data[0].raw_material%>'
  </div>

  <div class="p-3">
    <table id="productReport" class="display table table-bordered" style="width:100%">
      <thead>
        <tr>
            <th>Action</th>
          <th>SN</th>
          <th>BILL NO</th>
          <th>DATE</th>
          <th>VENDOR</th>
          <th>QNT</th>
          <th>WEIGHT UDM</th>
          <th>AMOUNT</th>
        </tr>
      </thead>
      <tbody>
        <% for (var i=0;i<data.length;i++) { %>
        <tr>
            <td>
                <a href="/view_purchase_bill/<%-data[i].purchase_id%>" class="btn btn-warning">VIEW</a>
            </td>
            <td><%-i+1%></td>
          <td><%-data[i].eway_bill%></td>
          <td><%-data[i].purchase_date%></td>
          <td><%-data[i].vendor_name%></td>
          <td><%-data[i].qty%></td>
          <td><%-data[i].udm%></td>
          <td><%-data[i].rate%></td>
         
        </tr>
        <% } %>
       
      </tbody>
    </table>
  </div>
</div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.7.0.min.js"></script>
<!-- DataTables JS -->
<script src="https://cdn.datatables.net/1.13.6/js/jquery.dataTables.min.js"></script>
<!-- DataTables Buttons -->
<script src="https://cdn.datatables.net/buttons/2.4.1/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.print.min.js"></script>
<script src="https://cdn.datatables.net/buttons/2.4.1/js/buttons.colVis.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js"></script>

<script>
$(document).ready(function() {
    $('#productReport').DataTable({
        dom: '<"d-flex justify-content-between"fB>rtip',
        buttons: [
            'colvis',
            'csvHtml5',
            'pdfHtml5',
            'print'
        ],
        language: {
            paginate: {
                previous: '<', // Left arrow
                next: '>'      // Right arrow
            }
        }
    });
});
</script>




<%-include('footer.ejs')%>